<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>The Power Shedule</title>
    <link rel="canonical" href="https://simplepwa.com" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Icons and Colors -->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./favicon-16x16.png"
    />
    <link rel="manifest" href="./manifest.json" />
    <link rel="mask-icon" href="./safari-pinned-tab.svg" color="#000000" />
    <link rel="shortcut icon" href="./favicon.ico" />
    <meta name="msapplication-TileColor" content="#000000" />
    <meta name="msapplication-TileImage" content="./mstile-144x144.png" />
    <meta name="msapplication-config" content="./browserconfig.xml" />
    <meta name="theme-color" content="#000000" />

    <!-- SEO and Social Sharing and SEO -->
    <meta
      name="description"
      content="Simple Progressive Web App (PWA) template"
    />
    <meta name="robots" content="noodp" />
    <meta name="author" content="The Order of Entropy" />
    <meta
      name="keywords"
      content="progressive web app, progressive web application, pwa, pwa progressive web app, pwa progressive web application, progressive app, basic progressive web app, basic progressive web application, basic pwa, example progressive web app, example progressive web application, example pwa, progressive web app basic, progressive web app builder, progressive web app example, progressive web app sample, progressive web app template, sample progressive web app, sample progressive web application, sample pwa, free progressive web application template, progressive web application template, progressive web app template free, progressive web app template free download, progressive web app html template, progressive web app template github"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Simple PWA" />
    <meta
      property="og:description"
      content="Simple Progressive Web App (PWA) template"
    />
    <meta property="og:url" content="https://simplepwa.com" />
    <meta property="og:site_name" content="Simple PWA" />
    <meta property="og:image" content="https://simplepwa.com/share.jpg" />
    <!-- Styles -->

    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/skeleton.css" />
    <link rel="stylesheet" href="style.css" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <!-- Javscript -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker &&
            navigator.serviceWorker.register("./sw.js");
        });
      }
    </script>
    <script defer src="./main.js"></script>
  </head>
  <script>
    /*
      The Power List is a Progressive Web App (PWA) designed to help users manage their daily tasks, track habits, and reflect on their progress. The app has seven core features:

      Task Management: Users can enter up to 5 daily tasks and mark them as completed or not completed.

      Day Status: At the end of the day, users can mark the day as a 'Win' if all tasks were completed, or a 'Loss' if any tasks were incomplete.

      Habit Tracker: When a task is completed for 21 consecutive days, it becomes a habit and is removed from the daily tasks list.

      Task Streak Display: The app tracks and displays the duration of each task's completion streak over the past 21 days.

      Reading List: Users can enter the books they are currently reading.

      Daily Diary: Users can record personal reflections about their day.

      Performance Summary: The app summarizes daily, weekly, monthly, and annual win/loss statistics.

      The app is designed with a minimalist aesthetic, featuring a dark mode toggle option. Users do not need to register, and their data is stored locally on the device with the capability for cloud backup. The app also supports platforms like Nextcloud for automatic syncing. The primary user interface components include task input fields, status checkboxes, task streak counters, a day status selector, and screens for habits, summary, and diary.

      The Power List app is built with the lightweight Skeleton CSS framework, ensuring a responsive and mobile-first design. The app also uses Alpine.js for interactivity, allowing for a smooth and engaging user experience.
      */

    //The data object using alpine.js

    class task {
      constructor() {
        this.name = "";
        this.completed = false;
      }
    }
    class dayData {
      constructor() {
        this.tasks = [
          new task(),
          new task(),
          new task(),
          new task(),
          new task(),
        ];
        this.dayStatus = "";
        this.readingList = "";
        this.dailyDiary = "";
      }
    }
    class historyEntry {
      constructor() {
        this.date = "";
        this.data = new dayData();
      }
    }
    document.addEventListener("alpine:init", () => {
      Alpine.store("darkMode", {
        on: false,
        toggle() {
          console.log("toggle");
          this.on = !this.on;
        },
      });
      Alpine.store("powerList", {
        selectedDate: new Date().toISOString().split("T")[0], // Selected date in "YYYY-MM-DD" format
        data: new dayData(), // Data for the selected date
        history: {}, // History of data for past dates
        saveData() {
          this.history[this.selectedDate] = this.data;
          localStorage.setItem("powerList", JSON.stringify(this.history));
        },
        loadData() {
          this.history = JSON.parse(localStorage.getItem("powerList")) || {};
          this.data = this.history[this.selectedDate] || {
            tasks: [],
            dayStatus: "",
            readingList: "",
            dailyDiary: "",
          };
          //if the data is empty, set the data to the default
          if (this.data.tasks.length == 0) {
            //set current date
            var date = new Date();
            selectedDate = date.toISOString().split("T")[0];
            //set the data to the default
            this.data.tasks = [
              {
                order: 1,
                description: "Task 1",
                streak: 0,
                completed: false,
              },
              {
                order: 2,
                description: "Task 2",
                streak: 0,
                completed: false,
              },
              {
                order: 3,
                description: "Task 3",
                streak: 0,
                completed: false,
              },
              {
                order: 4,
                description: "Task 4",
                streak: 0,
                completed: false,
              },
              {
                order: 5,
                description: "Task 5",
                streak: 0,
                completed: false,
              },
            ];
          }
        },
        selectDate(date) {
          this.saveData(); // Save the current data
          this.selectedDate = date;
          this.loadData(); // Load the data for the selected date
        },
        init() {
          this.loadData();
          console.log(this.data.tasks);
        },
      });
    });
  </script>

  <body x-data :class="$store.darkMode.on && 'dark'">
    <div class="container">
      <header>
        <div class="row">
          <div class="columns ten">
            <h1>Power List</h1>
          </div>
          <div class="columns two">
            <button x-data @click="$store.darkMode.toggle()">
              <span x-show="$store.darkMode.on" class="icon">ðŸŒ–</span>
              <span x-show="!$store.darkMode.on">ðŸŒ˜</span>
            </button>
          </div>
        </div>
        <div class="row">
          <div class="one-half column">
            <h1 x-text="$store.powerList.selectedDate"></h1>
          </div>
        </div>
        <div class="row">
          <div><button></button></div>
          <div class="twelve columns">
            <h5>Today's Date: [Insert date here]</h5>
          </div>
        </div>
      </header>

      <section class="tasks">
        <h4>Today's Tasks</h4>
        <!-- Repeat the following div for each task -->
        <template x-for="(task, index) in $store.powerList.data.tasks">
          <div class="row">
            <div class="one column" x-text="(index+1) +'.'"></div>
            <div class="seven columns">
              <input
                class="u-full-width"
                type="text"
                placeholder="Task description here"
              />
            </div>
            <div class="two columns"><input type="checkbox" x /> Done</div>
            <div class="two columns">Streak: [Insert streak count here]</div>
          </div>
        </template>

        <!-- End of task div -->
        <div class="row">
          <div class="six columns">
            <button class="button-primary">Mark Day as Win</button>
          </div>
          <div class="six columns">
            <button>Mark Day as Loss</button>
          </div>
        </div>
      </section>

      <section class="navigation">
        <div class="row">
          <div class="four columns">
            <button class="button-primary">Habit Screen</button>
          </div>
          <div class="four columns">
            <button class="button-primary">Summary Screen</button>
          </div>
          <div class="four columns">
            <button class="button-primary">Diary Screen</button>
          </div>
        </div>
      </section>

      <section class="reading">
        <div class="row">
          <div class="twelve columns">
            <input
              class="u-full-width"
              type="text"
              placeholder="What are you reading?"
            />
          </div>
        </div>
      </section>
    </div>
  </body>
</html>
